
Alias /%NAME_OF_PROJECT% %WORK_DIR%

# ServerName %NAME_OF_PROJECT%
# ServerAlias %NAME_OF_PROJECT%.com
# ServerAdmin %PROJECT_POSTMASTER%
# DocumentRoot %WORK_DIR%

<Directory %WORK_DIR%>
    Options FollowSymLinks
    AllowOverride None
    DirectoryIndex index.php

    <IfModule mod_php.c>
        <IfModule mod_mime.c>
            AddType application/x-httpd-php .php
        </IfModule>
        <FilesMatch ".+\.php$">
            SetHandler application/x-httpd-php
        </FilesMatch>

    <IfModule mod_version.c>
        <IfVersion < 2.4>
            Order allow,deny
            Allow from all
        </IfVersion>
        <IfVersion >= 2.4>
            Require all granted
        </IfVersion>
    </IfModule>
    <IfModule !mod_version.c>
        Order allow,deny
        Allow from all
    </IfModule>

    <IfModule mod_deflate.c>
        AddOutputFilterByType DEFLATE text/html text/javascript text/css text/xml application/json text/json
    </IfModule>

    # Make sure CSS and JS files are read as UTF8 by the browsers.
    AddCharset UTF-8 .css
    AddCharset UTF-8 .js

    # Set explicit mime type for woff fonts since it is relatively new and apache may not know about it.
    AddType application/font-woff .woff

</Directory>

<IfModule mod_headers.c>
    # Cache css-cache for 30 days
    <Directory "%WORK_DIR%/css">
        <FilesMatch "\.(css|CSS)$">
            Header set Cache-Control "max-age=2592000 must-revalidate"
        </FilesMatch>
    </Directory>

    # Cache css thirdparty for 4 hours, including icon fonts
    # <Directory "%WORK_DIR%/css">
    #     <FilesMatch "\.(css|CSS|woff|svg)$">
    #         Header set Cache-Control "max-age=14400 must-revalidate"
    #     </FilesMatch>
    # </Directory>

    # Cache js-cache for 30 days
    <Directory "%WORK_DIR%/js">
        <FilesMatch "\.(js|JS)$">
            Header set Cache-Control "max-age=2592000 must-revalidate"
        </FilesMatch>
    </Directory>

</IfModule>
